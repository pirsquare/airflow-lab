apiVersion: v1
kind: Secret
metadata:
  name: airflow-secrets
  namespace: airflow
type: Opaque
stringData:
  # IMPORTANT: Replace these with values from your cloud Secret Manager
  # AWS: aws secretsmanager get-secret-value --secret-id airflow/fernet-key
  # GCP: gcloud secrets versions access latest --secret="airflow-fernet-key"
  # Azure: az keyvault secret show --vault-name airflow-kv --name fernet-key
  
  # Generate with: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
  AIRFLOW__CORE__FERNET_KEY: "your-fernet-key-here"
  
  # Generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
  AIRFLOW__WEBSERVER__SECRET_KEY: "your-webserver-secret-key-here"
  
  # Database connection string
  # Format: postgresql://user:password@host:5432/database
  AIRFLOW__DATABASE__SQL_ALCHEMY_CONN: "postgresql://airflow:password@postgres.default:5432/airflow"
  
  # Celery broker and result backend
  AIRFLOW__CELERY__BROKER_URL: "redis://redis.default:6379/0"
  AIRFLOW__CELERY__RESULT_BACKEND: "redis://redis.default:6379/1"
  
  # Admin user credentials (used during initialization)
  AIRFLOW_ADMIN_USER: "admin"
  AIRFLOW_ADMIN_PASSWORD: "admin"
  AIRFLOW_ADMIN_EMAIL: "admin@example.com"
